<!DOCTYPE html>
<html lang="en-us">

<head>
<meta charset="utf-8">
<title>Test_Vibrations</title>
<script type="text/javascript" src="haptics.js"></script>
</head>

<body>
  <h3>Welcome to Ripple</h3>
  <p>Enter your 1 Digit PIN</p>
  <input type="number" id="myNumber" value="0">
  <p>Click the button to send the vibrations</p>
  <button onclick="myFunction()">Send Vibration</button>
  <p id="demo"></p>
  <p id="demo1"></p>

  <script>
     //function myFunction() {
    
   
      //  var vibtime = 3*1000;
        //var pause = 3*1000;
        //Haptics.vibrate([vibtime, pause, vibtime, 2*pause, 3*vibtime,2*pause,vibtime, pause]);//,4*vibtime,10*pause,vibtime,4*pause,vibtime,4*pause,vibtime,4*pause,vibtime,4*pause,vibtime,4*pause]); 
        
       // var x = document.getElementById("myNumber").value;
        //document.getElementById("demo").innerHTML = x;
    
   //}
  function myFunction() {
    var items = [];
    var x = document.getElementById("myNumber").value;
    document.getElementById("demo").innerHTML = x;
    //var mediumPWM = Haptics.createPatternPWM(2, 100);
    //mediumPWM(5000);

    var freq = 500+1;
    var on = 100, duration = 1000;
    //var percent = 10;
    //var off = on*(percent/100);
    var off = duration - on;
   // Haptics.pwm(duration, on, off);
    document.getElementById("demo1").innerHTML = on;
    
    /*for (var i = 1; i < freq; i++) {
        //document.getElementById("demo1").innerHTML = on;
        on = (on + i*2)%duration;
        //duration = duration*i*10;
        //off = Math.ceil(Math.abs(on-i*10));
        off = duration - on;
        Haptics.pwm(duration, on, off);

     }*/
      var j=1;
      on = (on + j*2)%duration;
      off = duration - on;
      Haptics.pwm(duration, on, off);
      /*j++;
      on = (on + j*2)%duration;
      off = duration - on;
      Haptics.pwm(duration, on, off);
      j++;
    on = (on + j*2)%duration;
      off = duration - on;
      Haptics.pwm(duration, on, off);
      j++;
    on = (on + j*2)%duration;
      off = duration - on;
      Haptics.pwm(duration, on, off);
      j++;
    on = (on + j*2)%duration;
      off = duration - on;
      Haptics.pwm(duration, on, off);
      j++;
    on = (on + j*2)%duration;
      off = duration - on;
      Haptics.pwm(duration, on, off);
      j++;
    on = (on + j*2)%duration;
      off = duration - on;
      Haptics.pwm(duration, on, off);
      j++;
    on = (on + j*2)%duration;
      off = duration - on;
      Haptics.pwm(duration, on, off);
      j++;*/
    
    /*for (var j = 1; j< freq; j++) {
      document.getElementById("demo1").innerHTML = on;
      on = Math.abs((on - i*10)%duration);
      off = duration - on;
      Haptics.pwm(duration, on, off);

    }*/

  }

  </script>
</body>
</html>
